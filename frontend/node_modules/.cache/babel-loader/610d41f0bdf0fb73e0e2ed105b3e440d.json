{"ast":null,"code":"var _jsxFileName = \"/mnt/1660E61660E5FC7D/AK360/REACT/React_Todolist/todolist/src/Main/mainpage.js\";\nimport React from \"react\";\nimport Card from \"../components/card\";\nimport Sidebar from \"../components/sidebar\";\nimport Navbar from \"../components/navbar\";\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport AddTaskPopup from \"../components/AddTaskPopup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function updateCategorystate(thiscategory) {\n  this.setState({\n    thiscategory: thiscategory\n  });\n}\n\nclass Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.rooturl = \"http://localhost:8000\";\n\n    this.handleShow = () => {\n      this.setState({\n        show: true\n      });\n      console.log('show state');\n    };\n\n    this.handleDontShow = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleDelete = (id, category) => {\n      axios.delete(this.rooturl + '/task-delete/' + id + \"/\").then(res => {\n        window.location.reload(false);\n      });\n    };\n\n    this.state = {\n      thiscategory: 1,\n      category: [],\n      task: []\n    };\n    updateCategorystate = updateCategorystate.bind(this);\n  }\n\n  componentDidMount() {\n    let data;\n    axios.get(this.rooturl + '/category-list/').then(res => {\n      data = res.data;\n      this.setState({\n        category: data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get(this.rooturl + '/task-list/').then(res => {\n      data = res.data;\n      this.setState({\n        task: data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const cardstyle = {\n      \"overflow-y\": \"scroll\",\n      height: \"91.8vh\",\n      margin: \"13px\",\n      padding: \"20px\",\n      \"WebkitFlex\": \"1\",\n      \"msFlex\": \"1\",\n      flex: \"1\"\n    };\n    const btn = {\n      float: \"right\"\n    };\n    let category = this.state.thiscategory;\n    let cards = [];\n    const task = this.state.task;\n\n    for (let i = 0; i < task.length; i++) {\n      if (category === task[i].category) {\n        cards.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            onDelete: () => this.handleDelete(task[i].id, task[i].category),\n            title: task[i].title,\n            description: task[i].description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this));\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n          className: \"sidebar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: cardstyle,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-lg btn-primary\",\n            style: btn,\n            onClick: () => this.handleShow(this.state.show),\n            children: \" + \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [cards, /*#__PURE__*/_jsxDEV(AddTaskPopup, {\n              trigger: this.state.show,\n              setTrigger: () => this.handleDontShow(this.state.show)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Page;\nNavbar.propTypes = {\n  title: PropTypes.string,\n  aboutText: PropTypes.string\n};\nNavbar.defaultProps = {\n  title: \"Task name\",\n  description: \"task decription\"\n};","map":{"version":3,"sources":["/mnt/1660E61660E5FC7D/AK360/REACT/React_Todolist/todolist/src/Main/mainpage.js"],"names":["React","Card","Sidebar","Navbar","axios","PropTypes","AddTaskPopup","updateCategorystate","thiscategory","setState","Page","Component","constructor","props","rooturl","handleShow","show","console","log","handleDontShow","handleDelete","id","category","delete","then","res","window","location","reload","state","task","bind","componentDidMount","data","get","catch","err","render","cardstyle","height","margin","padding","flex","btn","float","cards","i","length","push","title","description","propTypes","string","aboutText","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Card from \"../components/card\";\nimport Sidebar from \"../components/sidebar\";\nimport Navbar from \"../components/navbar\";\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport AddTaskPopup from \"../components/AddTaskPopup\";\n\n\nexport function updateCategorystate(thiscategory) {\n    this.setState({thiscategory : thiscategory})\n}\n\nclass Page extends React.Component {\n\n    rooturl = \"http://localhost:8000\"\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            thiscategory:1,\n            category: [],\n            task : []\n        }\n        updateCategorystate = updateCategorystate.bind(this)\n    }\n\n\n    componentDidMount() {\n  \n        let data ;\n\n        axios.get(this.rooturl+'/category-list/')\n        .then(res => {\n            data = res.data;\n            this.setState({\n                category : data    \n            });\n        })\n        .catch(err => {\n            console.log(err)\n        })\n     \n  \n        axios.get(this.rooturl+'/task-list/')\n        .then(res => {\n            data = res.data;\n            this.setState({\n                task : data    \n            });\n        })\n        .catch(err => {\n            console.log(err)\n        })\n        \n    }\n\n    handleShow=()=>{\n        this.setState({show : true});\n        console.log('show state')\n    }\n    handleDontShow=()=>{\n        this.setState({show : false});\n    }\n\n    handleDelete=(id,category)=>{\n        axios.delete(this.rooturl+'/task-delete/'+id+\"/\")\n        .then(res =>{\n            window.location.reload(false);\n        });\n    }\n\n\n    render() {\n        const cardstyle ={\n            \"overflow-y\":\"scroll\",\n            height:\"91.8vh\",\n            margin:\"13px\",\n            padding:\"20px\",\n            \"WebkitFlex\": \"1\",\n            \"msFlex\": \"1\",\n            flex: \"1\" }\n\n        const btn = {\n            float  : \"right\"\n        }\n\n        let category = this.state.thiscategory;\n\n        let cards =[]\n        const task = this.state.task\n        for (let i=0;i<task.length;i++){\n            if (category === task[i].category){\n                cards.push(\n                    <div className=\"col-md-4\">\n                        <Card onDelete={()=>this.handleDelete(task[i].id,task[i].category)} title={task[i].title} description={task[i].description}/>\n                    </div>\n                )\n            }\n        }\n        \n        return (\n            <>\n\n            <Navbar/>\n            <section>\n                <Sidebar  className=\"sidebar\"/>\n                <div className=\"card\" style={cardstyle}>\n                <button className='btn btn-lg btn-primary' style={btn}  onClick={()=>this.handleShow(this.state.show)}  > + </button>\n                <div className=\"row\">   \n                {cards} \n                <AddTaskPopup trigger={this.state.show} setTrigger={()=>this.handleDontShow(this.state.show)} />          \n                </div>\n                </div>\n            </section>\n            </>\n        );\n    }\n}\n\nexport default Page \n\nNavbar.propTypes = {title: PropTypes.string,\n    aboutText: PropTypes.string}\n\nNavbar.defaultProps = {\ntitle: \"Task name\",\ndescription: \"task decription\"\n}"]},"metadata":{},"sourceType":"module"}