{"ast":null,"code":"var _jsxFileName = \"/mnt/1660E61660E5FC7D/AK360/REACT/Ecom/frontend/src/context/SearchContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport { rooturl } from \"../utils/functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchContext = /*#__PURE__*/createContext();\nexport default SearchContext;\nexport const SearchProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const navigate = useNavigate();\n  let [searchList, setSearchList] = useState([]);\n\n  let fetchSearch = query => {\n    query.preventDefault();\n    let data;\n    axios.get(rooturl + '/api/Search-search/?q=' + query.target.q.value).then(res => {\n      data = res.data;\n\n      if (data.length === 0) {\n        fetchSearchs();\n        navigate(\"/\");\n      } else {\n        console.log(data);\n        navigate(\"/\");\n        setSearchList(data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  let contextData = {\n    searchList: searchList,\n    fetchSearch: ft\n  };\n  return /*#__PURE__*/_jsxDEV(SearchContext.Provider, {\n    value: contextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchProvider, \"qh/Xj4aMGQCl9MdUbNJODtbG2kc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SearchProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchProvider\");","map":{"version":3,"sources":["/mnt/1660E61660E5FC7D/AK360/REACT/Ecom/frontend/src/context/SearchContext.js"],"names":["createContext","useState","useEffect","axios","useNavigate","rooturl","SearchContext","SearchProvider","children","navigate","searchList","setSearchList","fetchSearch","query","preventDefault","data","get","target","q","value","then","res","length","fetchSearchs","console","log","catch","err","contextData","ft"],"mappings":";;;AAAA,SACIA,aADJ,EAEIC,QAFJ,EAGIC,SAHJ,QAIO,OAJP;AAKA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAEA,MAAMC,aAAa,gBAAGN,aAAa,EAAnC;AACA,eAAeM,aAAf;AAEA,OAAO,MAAMC,cAAc,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAE5C,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,MAAI,CAACM,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA1C;;AAEA,MAAIW,WAAW,GAAEC,KAAD,IAAS;AACrBA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,IAAJ;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAUX,OAAO,GAAG,wBAAV,GAAmCQ,KAAK,CAACI,MAAN,CAAaC,CAAb,CAAeC,KAA5D,EACCC,IADD,CACMC,GAAG,IAAI;AACTN,MAAAA,IAAI,GAAGM,GAAG,CAACN,IAAX;;AACA,UAAIA,IAAI,CAACO,MAAL,KAAc,CAAlB,EAAoB;AAClBC,QAAAA,YAAY;AACZd,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,OAHD,MAGK;AACDe,QAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACAN,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACAE,QAAAA,aAAa,CAACI,IAAD,CAAb;AACH;AACJ,KAXD,EAYCW,KAZD,CAYOC,GAAG,IAAI;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,KAdD;AAgBH,GAnBD;;AAqBA,MAAIC,WAAW,GAAG;AACdlB,IAAAA,UAAU,EAAEA,UADE;AAEdE,IAAAA,WAAW,EAACiB;AAFE,GAAlB;AAMA,sBACI,QAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAKD,WAAlC;AAAA,cACGpB;AADH;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CArCM;;GAAMD,c;UAEQH,W;;;KAFRG,c","sourcesContent":["import {\n    createContext,\n    useState,\n    useEffect\n} from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport { rooturl } from \"../utils/functions\";\n\nconst SearchContext = createContext()\nexport default SearchContext;\n\nexport const SearchProvider = ({ children }) => {\n\n    const navigate = useNavigate()\n    let [searchList, setSearchList] = useState([])\n\n    let fetchSearch=(query)=>{\n        query.preventDefault()\n        let data;\n        axios.get(rooturl + '/api/Search-search/?q='+query.target.q.value)\n        .then(res => {\n            data = res.data;\n            if (data.length===0){\n              fetchSearchs()\n              navigate(\"/\")\n            }else{\n                console.log(data)\n                navigate(\"/\")\n                setSearchList(data)\n            }\n        })\n        .catch(err => {\n            console.log(err)\n        })\n        \n    }\n\n    let contextData = {\n        searchList: searchList,\n        fetchSearch:ft\n    }\n\n\n    return ( \n        <SearchContext.Provider value = { contextData }>\n          {children } \n        </SearchContext.Provider>\n    )\n}"]},"metadata":{},"sourceType":"module"}