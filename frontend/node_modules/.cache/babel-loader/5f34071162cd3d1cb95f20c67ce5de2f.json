{"ast":null,"code":"var _jsxFileName = \"/mnt/1660E61660E5FC7D/AK360/REACT/Ecom/frontend/src/context/OrderContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport axios from 'axios';\nimport { rooturl } from \"../utils/functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderContext = /*#__PURE__*/createContext();\nexport default OrderContext;\nexport const OrderProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  let [orderList, setOrderList] = useState([]);\n  let [isFetched, setIsFetched] = useState(true);\n  let [thisOrder, setThisOrder] = useState();\n\n  let fetchOrder = () => {\n    let Token = JSON.parse(localStorage.getItem('authToken')).access;\n    let data;\n    axios.get(rooturl + '/api/order-list/', {\n      headers: {\n        'Authorization': `Bearer ${Token}`\n      }\n    }).then(res => {\n      data = res.data;\n      setOrderList(data);\n    }).catch(err => {\n      console.log(err);\n    });\n\n    if (isFetched) {\n      setIsFetched(false);\n    }\n  };\n\n  let addOrder = (cart, bool) => {\n    for (let i = 0; i < cart.length; i++) {\n      let product = 0;\n    }\n  };\n\n  let contextData = {\n    orderList: orderList,\n    setIsFetched: setIsFetched,\n    fetchOrder: fetchOrder,\n    setThisOrder: setThisOrder,\n    thisOrder: thisOrder,\n    addOrder: addOrder\n  };\n  useEffect(() => {\n    if (isFetched) {\n      fetchOrder();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(OrderContext.Provider, {\n    value: contextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 13\n  }, this);\n};\n\n_s(OrderProvider, \"3cF0rVGpFWSvzEtIIHMM1KVoFCY=\");\n\n_c = OrderProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderProvider\");","map":{"version":3,"sources":["/mnt/1660E61660E5FC7D/AK360/REACT/Ecom/frontend/src/context/OrderContext.js"],"names":["createContext","useState","useEffect","useContext","axios","rooturl","OrderContext","OrderProvider","children","orderList","setOrderList","isFetched","setIsFetched","thisOrder","setThisOrder","fetchOrder","Token","JSON","parse","localStorage","getItem","access","data","get","headers","then","res","catch","err","console","log","addOrder","cart","bool","i","length","product","contextData"],"mappings":";;;AAAA,SACIA,aADJ,EAEIC,QAFJ,EAGIC,SAHJ,EAIIC,UAJJ,QAIsB,OAJtB;AAKI,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAEA,MAAMC,YAAY,gBAAGN,aAAa,EAAlC;AACA,eAAeM,YAAf;AAEA,OAAQ,MAAMC,aAAa,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAACC,IAAAA;AAAD,GAAe;AAE1C,MAAI,CAACC,SAAD,EAAWC,YAAX,IAA2BT,QAAQ,CAAC,EAAD,CAAvC;AACA,MAAI,CAACU,SAAD,EAAWC,YAAX,IAA0BX,QAAQ,CAAC,IAAD,CAAtC;AACA,MAAI,CAACY,SAAD,EAAWC,YAAX,IAA2Bb,QAAQ,EAAvC;;AAEA,MAAIc,UAAU,GAAC,MAAI;AACf,QAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,EAA8CC,MAA1D;AACA,QAAIC,IAAJ;AACAlB,IAAAA,KAAK,CAACmB,GAAN,CAAUlB,OAAO,GAAC,kBAAlB,EAAqC;AACjCmB,MAAAA,OAAO,EAAC;AACJ,yBAAiB,UAASR,KAAM;AAD5B;AADyB,KAArC,EAKCS,IALD,CAKMC,GAAG,IAAI;AACTJ,MAAAA,IAAI,GAAGI,GAAG,CAACJ,IAAX;AACAZ,MAAAA,YAAY,CAACY,IAAD,CAAZ;AACH,KARD,EASCK,KATD,CASOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAXD;;AAYA,QAAGjB,SAAH,EAAa;AACTC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GAlBD;;AAoBA,MAAImB,QAAQ,GAAC,CAACC,IAAD,EAAMC,IAAN,KAAa;AACtB,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,IAAI,CAACG,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;AAC1B,UAAIE,OAAO,GAAG,CAAd;AAEH;AAEJ,GAND;;AAQA,MAAIC,WAAW,GAAE;AACb5B,IAAAA,SAAS,EAACA,SADG;AAEbG,IAAAA,YAAY,EAACA,YAFA;AAGbG,IAAAA,UAAU,EAACA,UAHE;AAIbD,IAAAA,YAAY,EAACA,YAJA;AAKbD,IAAAA,SAAS,EAACA,SALG;AAMbkB,IAAAA,QAAQ,EAACA;AANI,GAAjB;AAUA7B,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGS,SAAH,EAAa;AACTI,MAAAA,UAAU;AACb;AAEJ,GALQ,CAAT;AAQA,sBACI,QAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEsB,WAA9B;AAAA,cACK7B;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAzDO;;GAAMD,a;;KAAAA,a","sourcesContent":["import { \n    createContext,     \n    useState,\n    useEffect,\n    useContext } from \"react\";\n    import axios from 'axios';\n    import { rooturl } from \"../utils/functions\";\n    \n    const OrderContext = createContext()\n    export default OrderContext;\n    \n    export  const OrderProvider = ({children}) => {\n    \n        let [orderList,setOrderList] = useState([])\n        let [isFetched,setIsFetched]= useState(true)\n        let [thisOrder,setThisOrder] = useState()\n    \n        let fetchOrder=()=>{\n            let Token = JSON.parse(localStorage.getItem('authToken')).access\n            let data ;\n            axios.get(rooturl+'/api/order-list/',{\n                headers:{\n                    'Authorization':`Bearer ${Token}`\n                }\n            })\n            .then(res => {\n                data = res.data;\n                setOrderList(data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n            if(isFetched){\n                setIsFetched(false)\n            }\n        }\n\n        let addOrder=(cart,bool)=>{\n            for(let i=0;i<cart.length;i++){\n                let product = 0\n                \n            }\n\n        }\n    \n        let contextData ={\n            orderList:orderList,\n            setIsFetched:setIsFetched,\n            fetchOrder:fetchOrder,\n            setThisOrder:setThisOrder,\n            thisOrder:thisOrder,\n            addOrder:addOrder\n            \n        }\n\n        useEffect(()=>{\n            if(isFetched){\n                fetchOrder()\n            }\n    \n        })\n    \n    \n        return(\n            <OrderContext.Provider value={contextData}>\n                {children}\n            </OrderContext.Provider>\n        )\n    }"]},"metadata":{},"sourceType":"module"}