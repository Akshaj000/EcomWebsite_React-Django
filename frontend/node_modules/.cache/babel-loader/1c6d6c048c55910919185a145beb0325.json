{"ast":null,"code":"const API_ENDPOINT = 'http://localhost:4000';\nexport const stripePaymentMethodHandler = async (data, cb) => {\n  const {\n    amount,\n    result\n  } = data;\n\n  if (result.error) {\n    // show error in payment form\n    cb(result);\n  } else {\n    const paymentResponse = await stripePayment({\n      payment_method_id: result.paymentMethod.id,\n      name: result.paymentMethod.billing_details.name,\n      email: result.paymentMethod.billing_details.email,\n      amount: amount\n    });\n    console.log(paymentResponse);\n    cb(paymentResponse);\n  }\n}; // place backend API call for payment\n\nconst stripePayment = async data => {\n  const res = await fetch(`${API_ENDPOINT}/pay`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  return await res.json();\n};","map":{"version":3,"sources":["/mnt/1660E61660E5FC7D/AK360/REACT/Ecom/frontend/src/utils/script.js"],"names":["API_ENDPOINT","stripePaymentMethodHandler","data","cb","amount","result","error","paymentResponse","stripePayment","payment_method_id","paymentMethod","id","name","billing_details","email","console","log","res","fetch","method","headers","body","JSON","stringify","json"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAArB;AAEA,OAAO,MAAMC,0BAA0B,GAAG,OAAOC,IAAP,EAAaC,EAAb,KAAoB;AAC5D,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAqBH,IAA3B;;AACA,MAAIG,MAAM,CAACC,KAAX,EAAkB;AAChB;AACAH,IAAAA,EAAE,CAACE,MAAD,CAAF;AACD,GAHD,MAGO;AACL,UAAME,eAAe,GAAG,MAAMC,aAAa,CAAC;AAC1CC,MAAAA,iBAAiB,EAAEJ,MAAM,CAACK,aAAP,CAAqBC,EADE;AAE1CC,MAAAA,IAAI,EAAEP,MAAM,CAACK,aAAP,CAAqBG,eAArB,CAAqCD,IAFD;AAG1CE,MAAAA,KAAK,EAAET,MAAM,CAACK,aAAP,CAAqBG,eAArB,CAAqCC,KAHF;AAI1CV,MAAAA,MAAM,EAAEA;AAJkC,KAAD,CAA3C;AAMAW,IAAAA,OAAO,CAACC,GAAR,CAAYT,eAAZ;AACAJ,IAAAA,EAAE,CAACI,eAAD,CAAF;AACD;AACF,CAfM,C,CAiBP;;AACA,MAAMC,aAAa,GAAG,MAAMN,IAAN,IAAc;AAClC,QAAMe,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAElB,YAAa,MAAjB,EAAwB;AAC7CmB,IAAAA,MAAM,EAAE,MADqC;AAE7CC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFoC;AAG7CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAerB,IAAf;AAHuC,GAAxB,CAAvB;AAKA,SAAO,MAAMe,GAAG,CAACO,IAAJ,EAAb;AACD,CAPD","sourcesContent":["const API_ENDPOINT = 'http://localhost:4000';\n \nexport const stripePaymentMethodHandler = async (data, cb) => {\n  const { amount, result } = data;\n  if (result.error) {\n    // show error in payment form\n    cb(result);\n  } else {\n    const paymentResponse = await stripePayment({\n      payment_method_id: result.paymentMethod.id,\n      name: result.paymentMethod.billing_details.name,\n      email: result.paymentMethod.billing_details.email,\n      amount: amount\n    });\n    console.log(paymentResponse);\n    cb(paymentResponse);\n  }\n}\n \n// place backend API call for payment\nconst stripePayment = async data => {\n  const res = await fetch(`${API_ENDPOINT}/pay`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  })\n  return await res.json();\n}"]},"metadata":{},"sourceType":"module"}