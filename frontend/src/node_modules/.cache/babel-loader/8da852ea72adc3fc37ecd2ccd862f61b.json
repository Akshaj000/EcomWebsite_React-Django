{"ast":null,"code":"import _classCallCheck from\"/mnt/1660E61660E5FC7D/AK360/DJANGO/ecommercewebsite/ecomfrontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/mnt/1660E61660E5FC7D/AK360/DJANGO/ecommercewebsite/ecomfrontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/mnt/1660E61660E5FC7D/AK360/DJANGO/ecommercewebsite/ecomfrontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/mnt/1660E61660E5FC7D/AK360/DJANGO/ecommercewebsite/ecomfrontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Card from\"./card\";import axios from'axios';import{updateProductstate}from\"../productlist/productdetail\";import{jsx as _jsx}from\"react/jsx-runtime\";var Homepage=/*#__PURE__*/function(_React$Component){_inherits(Homepage,_React$Component);var _super=_createSuper(Homepage);function Homepage(props){var _this;_classCallCheck(this,Homepage);_this=_super.call(this,props);_this.rooturl=\"http://localhost:8000\";_this.handleView=function(id){var data;axios.get(_this.rooturl+'/api/product-detail/'+id+\"/\").then(function(res){data=res.data;updateProductstate(data);}).catch(function(err){console.log(err);});};_this.state={productlist:[]};return _this;}_createClass(Homepage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var data;axios.get(this.rooturl+'/api/product-list/').then(function(res){data=res.data;_this2.setState({productlist:data});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;var products=[];var productlist=this.state.productlist;var _loop=function _loop(i){products.push(/*#__PURE__*/_jsx(Card,{view:function view(){return _this3.handleView(productlist[i].id);},imageurl:_this3.rooturl+productlist[i].image,name:productlist[i].name,price:productlist[i].price}));};for(var i=0;i<productlist.length;i++){_loop(i);}return/*#__PURE__*/_jsx(\"main\",{role:\"main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"album py-5 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products})})})});}}]);return Homepage;}(React.Component);export default Homepage;","map":{"version":3,"sources":["/mnt/1660E61660E5FC7D/AK360/DJANGO/ecommercewebsite/ecomfrontend/src/components/home/homepage.js"],"names":["React","Card","axios","updateProductstate","Homepage","props","rooturl","handleView","id","data","get","then","res","catch","err","console","log","state","productlist","setState","products","i","push","image","name","price","length","Component"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,kBAAR,KAAiC,8BAAjC,C,8CAEMC,CAAAA,Q,gHAIF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EADe,MAFnBC,OAEmB,CAFT,uBAES,OAOnBC,UAPmB,CAOR,SAACC,EAAD,CAAM,CACb,GAAIC,CAAAA,IAAJ,CACAP,KAAK,CAACQ,GAAN,CAAU,MAAKJ,OAAL,CAAa,sBAAb,CAAoCE,EAApC,CAAuC,GAAjD,EACCG,IADD,CACM,SAAAC,GAAG,CAAI,CACTH,IAAI,CAAGG,GAAG,CAACH,IAAX,CACAN,kBAAkB,CAACM,IAAD,CAAlB,CACH,CAJD,EAKCI,KALD,CAKO,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAPD,EAUH,CAnBkB,CAEf,MAAKG,KAAL,CAAa,CACTC,WAAW,CAAG,EADL,CAAb,CAFe,aAKlB,C,sDAgBD,4BAAoB,iBAEhB,GAAIT,CAAAA,IAAJ,CACAP,KAAK,CAACQ,GAAN,CAAU,KAAKJ,OAAL,CAAa,oBAAvB,EACCK,IADD,CACM,SAAAC,GAAG,CAAI,CACTH,IAAI,CAAGG,GAAG,CAACH,IAAX,CACA,MAAI,CAACU,QAAL,CAAc,CACVD,WAAW,CAAGT,IADJ,CAAd,EAGH,CAND,EAOCI,KAPD,CAOO,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CATD,EAWH,C,sBAED,iBAAQ,iBAEJ,GAAIM,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAMF,CAAAA,WAAW,CAAG,KAAKD,KAAL,CAAWC,WAA/B,CAHI,yBAIKG,CAJL,EAKAD,QAAQ,CAACE,IAAT,cACI,KAAC,IAAD,EAAM,IAAI,CAAE,sBAAI,CAAA,MAAI,CAACf,UAAL,CAAgBW,WAAW,CAACG,CAAD,CAAX,CAAeb,EAA/B,CAAJ,EAAZ,CAAoD,QAAQ,CAAE,MAAI,CAACF,OAAL,CAAaY,WAAW,CAACG,CAAD,CAAX,CAAeE,KAA1F,CAAiG,IAAI,CAAEL,WAAW,CAACG,CAAD,CAAX,CAAeG,IAAtH,CAA4H,KAAK,CAAEN,WAAW,CAACG,CAAD,CAAX,CAAeI,KAAlJ,EADJ,EALA,EAIJ,IAAK,GAAIJ,CAAAA,CAAC,CAAC,CAAX,CAAcA,CAAC,CAACH,WAAW,CAACQ,MAA5B,CAAmCL,CAAC,EAApC,CAAuC,OAA9BA,CAA8B,EAItC,CAED,mBACI,aAAM,IAAI,CAAC,MAAX,uBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,KAAf,UACKD,QADL,EADJ,EADJ,EADJ,EADJ,CAaH,C,sBAhEkBpB,KAAK,CAAC2B,S,EAmE7B,cAAevB,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport Card from \"./card\";\nimport axios from 'axios';\nimport {updateProductstate} from \"../productlist/productdetail\";\n\nclass Homepage extends React.Component {\n\n    rooturl = \"http://localhost:8000\"\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            productlist : []\n        }\n    }\n\n    handleView=(id)=>{\n        let data ;\n        axios.get(this.rooturl+'/api/product-detail/'+id+\"/\")\n        .then(res => {\n            data = res.data;\n            updateProductstate(data)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n\n\n    }\n\n    componentDidMount() {\n  \n        let data ;\n        axios.get(this.rooturl+'/api/product-list/')\n        .then(res => {\n            data = res.data;\n            this.setState({\n                productlist : data   \n            });\n        })\n        .catch(err => {\n            console.log(err)\n        })\n        \n    }\n\n    render(){\n\n        let products = []\n        const productlist = this.state.productlist\n        for( let i=0; i<productlist.length;i++){\n            products.push(\n                <Card view={()=>this.handleView(productlist[i].id)} imageurl={this.rooturl+productlist[i].image} name={productlist[i].name} price={productlist[i].price}/>\n            )\n        }\n\n        return (\n            <main role=\"main\">\n                <div className=\"album py-5 bg-light\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            {products}\n                        </div>\n                    </div>\n                </div>\n            </main>\n        );\n        \n\n    }\n}\n\nexport default Homepage\n\n\n"]},"metadata":{},"sourceType":"module"}